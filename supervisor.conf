# Supervisor configuration for MGKEIT Pair Alert Bot
# Place this file in /etc/supervisor/conf.d/mgkeit-bot.conf on the server
# Then run:
#   sudo supervisorctl reread
#   sudo supervisorctl update
#   sudo supervisorctl start mgkeit-bot

[program:mgkeit-bot]
# Command to run the bot
command=/path/to/venv/bin/python -m src.bot.main

# Working directory
directory=/path/to/MGKEIT-Pair-Alert

# Environment variables (source from .env file)
environment=PATH="/path/to/venv/bin",PYTHONUNBUFFERED=1,PYTHONPATH=/path/to/MGKEIT-Pair-Alert/src

# Redirect stdout and stderr to logs
stdout_logfile=/path/to/MGKEIT-Pair-Alert/logs/supervisor_stdout.log
stderr_logfile=/path/to/MGKEIT-Pair-Alert/logs/supervisor_stderr.log

# Log file rotation
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10

# Auto-restart on failure
autostart=true
autorestart=true
startsecs=10
stopasgroup=true

# Process management
numprocs=1
priority=999
